@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

autonumber

actor "Green Space Manager" as GSM
participant ":AssignTeamToEntryUI" as UI
participant ":AssignTeamToEntryCTRL" as CTRL
participant "Organization" as Org
participant "Repositories" as Rep
participant "repositories:\nRepositories" as Repositories
participant "teamRepository:\nTeamRepository" as TeamRepository
participant "team:\nTeam" as Team
participant "entry:\nEntry" as Entry


activate GSM
    GSM -> UI : Wants to assign team to entry
    activate UI
        UI --> CTRL** : create
        UI -> CTRL : printTeams()
        activate CTRL

            CTRL -> Rep : getInstance()
            activate Rep
                Rep --> CTRL : repositories
            deactivate Rep

            CTRL -> Repositories : getTeamsRepository()
            activate Repositories
                Repositories --> CTRL : TeamRepository
            deactivate Repositories

            CTRL -> TeamRepository : getTeams()
            activate TeamRepository
                TeamRepository --> CTRL : Teams
            deactivate TeamRepository

        CTRL --> UI : Teams


        UI -> GSM : shows teams
        GSM -> UI : selects team
        UI -> CTRL : printEntries()

            CTRL -> Rep : getInstance()
            activate Rep
                Rep --> CTRL : repositories
            deactivate Rep

            CTRL -> Repositories : getEntryRepository()
            activate Repositories
                Repositories --> CTRL : AgendaRepository
            deactivate Repositories

            CTRL -> AgendaRepository : getEntries()
            activate AgendaRepository
                AgendaRepository --> CTRL : Entries
            deactivate AgendaRepository

        CTRL --> UI : Entries
        UI -> GSM : shows entries

        GSM -> UI : selects entry
        UI -> CTRL : attributeTeamToEntry(choiceTeam, choiceEntry)
        CTRL -> CTRL : attributeTeamToEntry(choiceTeam, choiceEntry)
        CTRL -> TeamRepository : getTeams(choiceTeam: int)
            activate TeamRepository
                TeamRepository --> CTRL : Team selectedTeam
            deactivate TeamRepository
        CTRL -> AgendaRepository : getEntries(choiceEntry: int)
            activate AgendaRepository
                AgendaRepository --> CTRL : Entry selectedEntry
            deactivate AgendaRepository

        CTRL -> Entry : setTeam(selectedTeam: Team)
        activate Entry
        deactivate Entry
        CTRL -> UI : (In)Success
        UI-> GSM : (In)Success message

        deactivate CTRL
    deactivate UI
deactivate GSM
@enduml
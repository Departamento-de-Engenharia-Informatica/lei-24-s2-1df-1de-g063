@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

autonumber

actor "Green Space Manager" as GSM
participant ":AssignTeamToEntryUI" as UI
participant ":AssignTeamToEntryCTRL" as CTRL
participant "Repositories" as Rep
participant "repositories:\nRepositories" as Repositories
participant "teamRepository:\nTeamRepository" as TeamRepository
participant "team:\nTeam" as Team
participant "entry:\nEntry" as Entry

activate GSM
    GSM -> UI : Wants to assign team to entry
    activate UI
        UI -> CTRL : create
        UI -> CTRL : getTeams()
        activate CTRL

            CTRL -> Rep : getInstance()
            activate Rep
                Rep --> CTRL : repositories
            deactivate Rep

            CTRL -> Repositories : getTeamsRepository()
            activate Repositories
                Repositories --> CTRL : TeamRepository
            deactivate Repositories

            CTRL -> TeamRepository : getTeams()
            activate TeamRepository
                TeamRepository --> CTRL : Teams
            deactivate TeamRepository

        CTRL --> UI : Teams
        deactivate CTRL

        UI -> GSM : shows teams
        GSM -> UI : selects team
        UI -> CTRL : getEntries()
        activate CTRL

            CTRL -> Rep : getInstance()
            activate Rep
                Rep --> CTRL : repositories
            deactivate Rep

            CTRL -> Repositories : getEntryRepository()
            activate Repositories
                Repositories --> CTRL : EntryRepository
            deactivate Repositories

            CTRL -> EntryRepository : getEntries()
            activate EntryRepository
                EntryRepository --> CTRL : Entries
            deactivate EntryRepository

            CTRL -> UI : Entries
            UI -> GSM : shows entries
            GSM -> UI : selects entry
            UI -> CTRL : attributeTeamToEntry(choiceTeam, choiceEntry)
            CTRL -> Team : getTeams(choiceTeam)
                activate Team
                    Team --> CTRL : Team selectedTeam
                deactivate Team
            CTRL -> Entry : getEntries(choiceEntry)
                activate Entry
                    Entry --> CTRL : Entry selectedEntry
                deactivate Entry
            CTRL -> CTRL : selectedEntry.setTeam(selectedTeam)
            CTRL -> UI : (In)Success Message

        deactivate CTRL
    deactivate UI
deactivate GSM
@enduml
